import{_ as e,V as a,W as s,Z as d}from"./framework-bcbeea85.js";const n={},i=d(`<h1 id="文件-etc-gshadow" tabindex="-1"><a class="header-anchor" href="#文件-etc-gshadow" aria-hidden="true">#</a> 文件 | /etc/gshadow</h1><p>/etc/gshadow 文件用于存储 Linux 系统中组账户的影子信息。</p><h2 id="一、-etc-gshadow-文件简介" tabindex="-1"><a class="header-anchor" href="#一、-etc-gshadow-文件简介" aria-hidden="true">#</a> 一、/etc/gshadow 文件简介</h2><p>/etc/gshadow 文件存储着与 /etc/group 类似的组信息,但是它所存储的组信息更为敏感和重要。该文件只允许根用户读取。 /etc/gshadow 文件的组织格式如下:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>groupname:passwd:admins:members
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>每个组条目一共有4个字段:</p><ol><li><p>groupname - 组名</p></li><li><p>passwd - 组密码,通常被禁用,所以一般为空</p></li><li><p>admins - 组管理员账号列表</p></li><li><p>members - 组内用户账号列表 示例:/etc/gshadow 文件</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wheel::root:root,alice,bob
sales:*:jack:jim,tony
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个示例中定义了两个组: wheel组: 组管理员是root 组用户是root、alice、bob sales组: 没有组密码 组管理员是jack 组用户是jim、tony</p></li></ol><h2 id="二、-etc-gshadow文件的常见操作" tabindex="-1"><a class="header-anchor" href="#二、-etc-gshadow文件的常见操作" aria-hidden="true">#</a> 二、/etc/gshadow文件的常见操作</h2><h3 id="_1-添加组" tabindex="-1"><a class="header-anchor" href="#_1-添加组" aria-hidden="true">#</a> 1. 添加组</h3><p>使用 groupadd 命令可以添加新组,同时会在/etc/gshadow 中增加相应的条目。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupadd</span> newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-删除组" tabindex="-1"><a class="header-anchor" href="#_2-删除组" aria-hidden="true">#</a> 2. 删除组</h3><p>使用 groupdel 命令可以删除一个组,相应的 /etc/gshadow 条目也会被移除。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupdel</span> newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-修改组" tabindex="-1"><a class="header-anchor" href="#_3-修改组" aria-hidden="true">#</a> 3. 修改组</h3><p>可以使用 groupmod 命令来修改组的信息。 例如,将newgroup组的管理员修改为alice:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupmod</span> <span class="token parameter variable">-A</span> alice newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-更改组密码" tabindex="-1"><a class="header-anchor" href="#_4-更改组密码" aria-hidden="true">#</a> 4. 更改组密码</h3><p>可以使用 gpasswd 命令为某个组设置密码。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># gpasswd newgroup </span>

Changing the password <span class="token keyword">for</span> group newgroup
New Password: 
Re-enter new password:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输入两次新密码后,newgroup的密码就设置好了。</p><h3 id="_5-添加组管理员" tabindex="-1"><a class="header-anchor" href="#_5-添加组管理员" aria-hidden="true">#</a> 5. 添加组管理员</h3><p>可以使用 gpasswd 命令添加组管理员。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gpasswd <span class="token parameter variable">-A</span> bob newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这会将bob添加为newgroup组的管理员。</p><h3 id="_6-删除组管理员" tabindex="-1"><a class="header-anchor" href="#_6-删除组管理员" aria-hidden="true">#</a> 6. 删除组管理员</h3><p>可以使用 gpasswd 命令删除组管理员。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gpasswd <span class="token parameter variable">-d</span> alice newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这会将alice从newgroup的管理员中删除。</p><h3 id="_7-添加组用户" tabindex="-1"><a class="header-anchor" href="#_7-添加组用户" aria-hidden="true">#</a> 7. 添加组用户</h3><p>可以使用 gpasswd 命令添加组用户。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gpasswd <span class="token parameter variable">-M</span> tim newgroup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这会将tim添加到newgroup组中作为组用户。</p><h3 id="_8-删除组用户" tabindex="-1"><a class="header-anchor" href="#_8-删除组用户" aria-hidden="true">#</a> 8. 删除组用户</h3><p>可以使用 gpasswd 命令删除组用户。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gpasswd <span class="token parameter variable">-d</span> tim newgroup 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这会将tim从newgroup组中删除。</p><h2 id="三、-etc-gshadow文件的访问控制" tabindex="-1"><a class="header-anchor" href="#三、-etc-gshadow文件的访问控制" aria-hidden="true">#</a> 三、/etc/gshadow文件的访问控制</h2><p>/etc/gshadow文件中存储着敏感信息,只允许根用户读取。 可以通过设置文件权限进行访问控制。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">400</span> /etc/gshadow
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这将设置/etc/gshadow为只读,只有root可以读取文件。 也可以在/etc/pam.d/gshadow中设置适当的访问控制规则。 综上,/etc/gshadow存储Linux系统组的敏感信息,了解其用法和加强其访问控制很重要。文件权限控制和访问控制规则可以防止非授权访问。</p>`,41),r=[i];function l(c,o){return a(),s("div",null,r)}const t=e(n,[["render",l],["__file","etc-gshadow.html.vue"]]);export{t as default};
