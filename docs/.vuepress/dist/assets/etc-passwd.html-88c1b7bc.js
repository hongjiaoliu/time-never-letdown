import{_ as e,V as a,W as d,Z as s}from"./framework-bcbeea85.js";const i={},t=s(`<h1 id="文件-etc-passwd" tabindex="-1"><a class="header-anchor" href="#文件-etc-passwd" aria-hidden="true">#</a> 文件 | /etc/passwd</h1><h2 id="_1-etc-passwd文件概览" tabindex="-1"><a class="header-anchor" href="#_1-etc-passwd文件概览" aria-hidden="true">#</a> 1. /etc/passwd文件概览</h2><p>/etc/passwd文件用来存储所有系统用户的信息,它的内容非常重要。每个系统用户都在这个文件中有对应的记录行。 /etc/passwd文件每一行代表一个用户,共7个字段,字段之间使用&#39;:&#39;分隔,格式如下:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>用户名:密码占位符:用户ID:用户组ID:注释性描述:主目录:命令解释器
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下面对每个字段进行说明:</p><ul><li>用户名 - 登录系统的用户名</li><li>密码占位符 - 通常是&#39;x&#39;,表示密码存放在/etc/shadow文件中</li><li>用户ID (UID) - 用户的数字型ID,从0开始计数</li><li>用户组ID (GID) - 用户所在组的数字型ID</li><li>注释性描述 - 一般填写用户的全名</li><li>主目录 - 用户的主文件夹路径</li><li>命令解释器 - 用户登录后使用的Shell程序 示例:/etc/passwd文件中的一行:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root:x:0:0:root:/root:/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>表示: 用户名为root,密码在/etc/shadow文件中,UID和GID都是0,注释是&quot;root&quot;,主目录是/root,使用的Shell是/bin/bash。</li></ul><h2 id="_2-添加系统用户" tabindex="-1"><a class="header-anchor" href="#_2-添加系统用户" aria-hidden="true">#</a> 2. 添加系统用户</h2><p>要想添加新的系统用户,需要修改/etc/passwd文件。步骤如下:</p><ol><li>使用任意文本编辑器(例如vim)打开/etc/passwd文件</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> vim /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>在文件末尾添加新的用户信息,格式同上。例如添加一个新用户tom:</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tom:x:1010:1010::/home/tom:/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这将添加一个UID和GID都是1010的用户tom,主目录在/home/tom,使用bash作为shell。</p><ol start="3"><li>同时需要创建用户的主目录:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mkdir /home/tom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>最后设置好用户的密码:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>passwd tom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>输入两遍密码后tom用户就成功添加了。</li></ol><h2 id="_3-修改用户属性" tabindex="-1"><a class="header-anchor" href="#_3-修改用户属性" aria-hidden="true">#</a> 3. 修改用户属性</h2><p>如果要修改某个已存在的用户属性,直接编辑/etc/passwd文件,找到对应用户行后修改即可。例如把tom的UID改为1011:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vim /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>找到tom那一行,把1010改为1011,保存退出即可。</p><h2 id="_4-删除用户" tabindex="-1"><a class="header-anchor" href="#_4-删除用户" aria-hidden="true">#</a> 4. 删除用户</h2><p>删除用户的步骤:</p><ol><li>编辑/etc/passwd,删除需要删除用户的记录行</li><li>删除用户主目录 例如要删除tom用户:<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vim /etc/passwd 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>删除tom那一行<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rm -r /home/tom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>删除主目录 这样就完成了删除用户的操作。</li></ol><h2 id="_5-etc-passwd文件访问权限" tabindex="-1"><a class="header-anchor" href="#_5-etc-passwd文件访问权限" aria-hidden="true">#</a> 5. /etc/passwd文件访问权限</h2><p>/etc/passwd文件的访问权限非常重要,必须设置正确,否则会导致系统安全问题。 建议设置为:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-rw-r--r-- 1 root root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>即root用户可读写,其他用户只读。 这可以最大程度保证安全。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>/etc/passwd是Linux系统中非常重要的核心文件,记录用户信息。要熟练掌握用户管理就需要熟悉它的格式与使用方法。这里我详细介绍了/etc/passwd的格式、添加用户、修改用户、删除用户以及访问权限控制等内容。掌握这些将大大提高对Linux用户管理的能力。</p>`,27),l=[t];function n(r,c){return a(),d("div",null,l)}const u=e(i,[["render",n],["__file","etc-passwd.html.vue"]]);export{u as default};
