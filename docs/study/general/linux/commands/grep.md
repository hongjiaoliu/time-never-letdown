---
icon: edit
date: 2023-09-04
category:
  - 通用技能
tag:
  - Linux
  - Linux命令
star: true
---

# 基本 | grep

`grep` 是一个用于在文本中搜索指定模式的命令行工具，通常在命令行终端中使用。以下是从入门到高阶的`grep`命令详细讲解，包括一些常用的选项。

## 入门

### 1. 基本搜索

要在文件中搜索特定文本模式，只需在命令行中输入以下命令：

```bash
grep 模式 文件名
```

例如，要在文件`file.txt`中搜索单词`apple`，可以执行以下命令：

```bash
grep apple file.txt
```

## 进阶

### 2. 显示匹配行的行号

通过使用`-n`选项，你可以显示匹配行的行号：

```bash
grep -n 模式 文件名
```

例如，要在文件`file.txt`中搜索单词`apple`并显示匹配行的行号，可以执行以下命令：

```bash
grep -n apple file.txt
```

### 3. 忽略大小写

使用`-i`选项，可以忽略搜索时的大小写：

```bash
grep -i 模式 文件名
```

例如，要在文件`file.txt`中搜索单词`apple`，不区分大小写，可以执行以下命令：

```bash
grep -i apple file.txt
```

### 4. 匹配整个单词

使用`-w`选项，可以匹配整个单词而不是部分匹配：

```bash
grep -w 模式 文件名
```

例如，要在文件`file.txt`中搜索单词`apple`，只匹配整个单词，可以执行以下命令：

```bash
grep -w apple file.txt
```

## 高阶

### 5. 递归搜索

要在目录及其子目录中递归搜索，使用`-r`选项：

```bash
grep -r 模式 目录
```

例如，要在当前目录及其子目录中递归搜索单词`apple`，可以执行以下命令：

```bash
grep -r apple .
```

### 6. 显示匹配的行数

使用`-c`选项，你可以只显示匹配的行数，而不显示匹配的内容：

```bash
grep -c 模式 文件名
```

例如，要统计文件`file.txt`中单词`apple`的出现次数，可以执行以下命令：

```bash
grep -c apple file.txt
```

### 7. 反向搜索

通过使用`-v`选项，你可以执行反向搜索，即显示不匹配模式的行：

```bash
grep -v 模式 文件名
```

例如，要在文件`file.txt`中显示不包含单词`apple`的行，可以执行以下命令：

```bash
grep -v apple file.txt
```

### 8. 使用正则表达式

`grep` 支持正则表达式搜索。使用 `-E` 选项，你可以进行更复杂的模式匹配：

```bash
grep -E 正则表达式 文件名
```

例如，要在文件`file.txt`中查找所有包含数字的行，可以执行以下命令：

```bash
grep -E '[0-9]' file.txt
```

### 9. 指定多个模式

使用 `-e` 选项，你可以指定多个搜索模式：

```bash
grep -e 模式1 -e 模式2 文件名
```

例如，要在文件`file.txt`中同时搜索`apple`和`banana`，可以执行以下命令：

```bash
grep -e apple -e banana file.txt
```

### 10. 显示匹配的文件名

使用 `-l` 选项，你可以只显示包含匹配模式的文件名，而不显示匹配的内容：

```bash
grep -l 模式 目录
```

例如，要在当前目录及其子目录中查找包含单词`apple`的文件，可以执行以下命令：

```bash
grep -l -r apple .
```

## 总结

通过`grep`命令，你可以在文本文件中进行强大的搜索操作，包括基本搜索、显示行号、忽略大小写、匹配整个单词、递归搜索、显示匹配行数、反向搜索、使用正则表达式、指定多个模式和显示匹配的文件名等功能。

---
