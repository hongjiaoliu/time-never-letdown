---
icon: edit
date: 2023-10-12
category:
  - 通用技能
tag:
  - Linux
  - Linux命令
star: true
---

# 基础 | su

su命令用于在Linux系统中切换用户身份。它可以让你暂时获得 root 权限或者切换到另一个用户账户。

## su 命令语法

su [选项] [用户名]
常用选项:

- -:不读取 root 用户的环境变量设置。
- -c <命令>:指定要执行的命令。
- -l 或 --login:切换用户的同时,把该用户的环境变量加载到当前shell里。
  如果不指定用户名,默认切换到 root 用户。

## su 命令使用示例

### 1. 切换到 root 用户

```
su
```


执行该命令后,会提示输入 root 用户的密码。输入正确密码后,就可以获得 root 权限。

### 2. 执行命令后返回到原来的用户

```
su -c '命令'
```

例如:

```
su -c 'ls /root/'
```

这将以 root 权限执行 ls /root/ 命令,命令执行完成后会返回到原来的用户。

### 3. 加载 root 用户的环境变量

```
su -
```


使用 - 选项,会加载 root 用户的环境变量,提供一个 root 用户的工作环境。

### 4. 切换到其它普通用户

```
su username
```

例如:

```
su test
```


这将切换到 test 用户,需要输入 test 用户的密码。

### 5. 退出切换的用户

执行 exit 命令或者按 Ctrl + D 组合键即可退回到原来的用户。

## su 命令注意事项

- 切换用户时,要确保输入正确的用户名和密码。
- 一般建议使用 sudo 命令进行授权操作,而不是直接使用 su 切换到 root 用户。
- su 命令仅影响当前的 shell 会话,当 session 结束后会返回到原来的用户。

## 总结

su 命令通过切换用户实现权限提升和用户间快速切换。要注意使用方式的不同会带来安全风险。推荐使用 sudo 来进行授权操作。